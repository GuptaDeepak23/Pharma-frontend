{"ast":null,"code":"import{useState}from\"react\";import{motion}from\"framer-motion\";import{Upload,Camera,Loader2,AlertCircle,CheckCircle2,Palette,Brain,Lightbulb,Shield,TrendingUp}from\"lucide-react\";import{Button}from\"@/components/ui/button\";import ColorPicker from\"@/components/ColorPicker\";import axios from\"axios\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL='https://pharmacy-project-lh5x.onrender.com';const API=\"\".concat(BACKEND_URL,\"/api\");export default function Detection(){const[selectedFile,setSelectedFile]=useState(null);const[preview,setPreview]=useState(null);const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const[manualColor,setManualColor]=useState(null);const[useManualColor,setUseManualColor]=useState(false);const handleFileSelect=e=>{const file=e.target.files[0];if(file){setSelectedFile(file);setResult(null);setManualColor(null);setUseManualColor(false);// Create preview\nconst reader=new FileReader();reader.onloadend=()=>{setPreview(reader.result);};reader.readAsDataURL(file);}};const handleAnalysis=async()=>{if(!selectedFile){toast.error(\"Please select an image first\");return;}setLoading(true);setResult(null);try{const formData=new FormData();formData.append(\"file\",selectedFile);// Add manual color if user selected one\nif(useManualColor&&manualColor){console.log(\"ðŸŽ¨ Sending manual color:\",manualColor);formData.append(\"manual_color\",JSON.stringify(manualColor));}else{console.log(\"ðŸ”„ Using automatic detection\");}const response=await axios.post(\"\".concat(API,\"/analyze\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setResult(response.data);toast.success(\"Analysis complete!\");}catch(error){var _error$response,_error$response$data;console.error(\"Analysis error:\",error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||\"Error analyzing image. Please try again.\");}finally{setLoading(false);}};const handleColorSelect=color=>{setManualColor(color);setUseManualColor(true);};const handleColorReset=()=>{setManualColor(null);setUseManualColor(false);};const getStatusColor=status=>{if(status===\"Safe\")return\"text-green-600 bg-green-50\";if(status.includes(\"Slight\"))return\"text-yellow-600 bg-yellow-50\";if(status===\"Contaminated\")return\"text-orange-600 bg-orange-50\";return\"text-red-600 bg-red-50\";};const getStatusIcon=status=>{if(status===\"Safe\")return/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"92\",\"x-component\":\"CheckCircle2\",\"x-id\":\"Detection_92\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(CheckCircle2,{className:\"h-6 w-6\"})});return/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"93\",\"x-component\":\"AlertCircle\",\"x-id\":\"Detection_93\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-6 w-6\"})});};const getConfidenceColor=score=>{if(score>=80)return\"text-green-600 bg-green-50\";if(score>=60)return\"text-yellow-600 bg-yellow-50\";return\"text-red-600 bg-red-50\";};const getConfidenceIcon=score=>{if(score>=80)return/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"103\",\"x-component\":\"TrendingUp\",\"x-id\":\"Detection_103\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4\"})});if(score>=60)return/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"104\",\"x-component\":\"AlertCircle\",\"x-id\":\"Detection_104\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"})});return/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"105\",\"x-component\":\"AlertCircle\",\"x-id\":\"Detection_105\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"})});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen py-20 px-4\",\"x-file-name\":\"Detection\",\"x-line-number\":\"109\",\"x-component\":\"div\",\"x-id\":\"Detection_109\",\"x-dynamic\":\"false\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",\"x-file-name\":\"Detection\",\"x-line-number\":\"110\",\"x-component\":\"div\",\"x-id\":\"Detection_110\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl sm:text-5xl lg:text-6xl font-bold text-[#1E3A8A] mb-4\",\"x-file-name\":\"Detection\",\"x-line-number\":\"118\",\"x-component\":\"h1\",\"x-id\":\"Detection_118\",\"x-dynamic\":\"false\",children:\"Heavy Metal Detection with AI Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base sm:text-lg text-gray-600\",\"x-file-name\":\"Detection\",\"x-line-number\":\"121\",\"x-component\":\"p\",\"x-id\":\"Detection_121\",\"x-dynamic\":\"false\",children:\"Upload a test tube image for color-based detection and AI-powered safety recommendations\"})]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},transition:{duration:0.5},className:\"bg-white rounded-3xl p-8 md:p-12 shadow-2xl mb-8\",children:!preview?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"134\",\"x-component\":\"div\",\"x-id\":\"Detection_134\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"upload-zone\",className:\"border-3 border-dashed border-[#2563EB] rounded-2xl p-12 text-center hover:bg-blue-50/50 transition-colors cursor-pointer\",onClick:()=>document.getElementById('file-input').click(),\"x-file-name\":\"Detection\",\"x-line-number\":\"135\",\"x-component\":\"div\",\"x-id\":\"Detection_135\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"140\",\"x-component\":\"Upload\",\"x-id\":\"Detection_140\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Upload,{className:\"h-16 w-16 text-[#2563EB] mx-auto mb-4\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-[#1E3A8A] mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"141\",\"x-component\":\"h3\",\"x-id\":\"Detection_141\",\"x-dynamic\":\"false\",children:\"Click to Upload Image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",\"x-file-name\":\"Detection\",\"x-line-number\":\"144\",\"x-component\":\"p\",\"x-id\":\"Detection_144\",\"x-dynamic\":\"false\",children:\"Support: JPG, PNG, JPEG\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",\"data-testid\":\"file-input\",type:\"file\",accept:\"image/*\",onChange:handleFileSelect,className:\"hidden\",\"x-file-name\":\"Detection\",\"x-line-number\":\"149\",\"x-component\":\"input\",\"x-id\":\"Detection_149\",\"x-dynamic\":\"false\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",\"x-file-name\":\"Detection\",\"x-line-number\":\"158\",\"x-component\":\"div\",\"x-id\":\"Detection_158\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",\"x-file-name\":\"Detection\",\"x-line-number\":\"159\",\"x-component\":\"p\",\"x-id\":\"Detection_159\",\"x-dynamic\":\"false\",children:\"Or capture directly\"}),/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"160\",\"x-component\":\"Button\",\"x-id\":\"Detection_160\",\"x-dynamic\":\"true\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsxs(Button,{\"data-testid\":\"camera-btn\",variant:\"outline\",className:\"border-[#2563EB] text-[#2563EB] hover:bg-[#2563EB] hover:text-white\",onClick:()=>document.getElementById('file-input').click(),children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"166\",\"x-component\":\"Camera\",\"x-id\":\"Detection_166\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Camera,{className:\"mr-2 h-4 w-4\"})}),\"Use Camera\"]})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"172\",\"x-component\":\"div\",\"x-id\":\"Detection_172\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",\"x-file-name\":\"Detection\",\"x-line-number\":\"174\",\"x-component\":\"div\",\"x-id\":\"Detection_174\",\"x-dynamic\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"175\",\"x-component\":\"ColorPicker\",\"x-id\":\"Detection_175\",\"x-dynamic\":\"true\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(ColorPicker,{imageSrc:preview,onColorSelect:handleColorSelect,selectedColor:manualColor,onReset:handleColorReset})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",\"x-file-name\":\"Detection\",\"x-line-number\":\"184\",\"x-component\":\"div\",\"x-id\":\"Detection_184\",\"x-dynamic\":\"false\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-100 text-sm text-gray-600\",\"x-file-name\":\"Detection\",\"x-line-number\":\"185\",\"x-component\":\"div\",\"x-id\":\"Detection_185\",\"x-dynamic\":\"true\",children:useManualColor?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"188\",\"x-component\":\"Palette\",\"x-id\":\"Detection_188\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Palette,{className:\"h-4 w-4\"})}),\"Using Manual Color Selection\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"193\",\"x-component\":\"Camera\",\"x-id\":\"Detection_193\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Camera,{className:\"h-4 w-4\"})}),\"Using Automatic Detection\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-center\",\"x-file-name\":\"Detection\",\"x-line-number\":\"201\",\"x-component\":\"div\",\"x-id\":\"Detection_201\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"202\",\"x-component\":\"Button\",\"x-id\":\"Detection_202\",\"x-dynamic\":\"true\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Button,{\"data-testid\":\"change-image-btn\",variant:\"outline\",onClick:()=>{setSelectedFile(null);setPreview(null);setResult(null);setManualColor(null);setUseManualColor(false);},className:\"border-gray-300\",children:\"Change Image\"})}),/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"216\",\"x-component\":\"Button\",\"x-id\":\"Detection_216\",\"x-dynamic\":\"true\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Button,{\"data-testid\":\"start-analysis-btn\",onClick:()=>{handleAnalysis();window.scrollTo({top:document.body.scrollHeight,behavior:\"smooth\"});},disabled:loading,className:\"bg-gradient-to-r from-[#1E3A8A] to-[#2563EB] hover:from-[#1e40af] hover:to-[#1d4ed8] text-white px-8\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"227\",\"x-component\":\"Loader2\",\"x-id\":\"Detection_227\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Loader2,{className:\"mr-2 h-4 w-4 animate-spin\"})}),\"Analyzing...\"]}):\"Start Analysis\"})})]})]})}),loading&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"bg-white rounded-3xl p-12 shadow-xl text-center\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"246\",\"x-component\":\"Loader2\",\"x-id\":\"Detection_246\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Loader2,{className:\"h-16 w-16 text-[#2563EB] mx-auto mb-4 animate-spin\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",\"x-file-name\":\"Detection\",\"x-line-number\":\"247\",\"x-component\":\"p\",\"x-id\":\"Detection_247\",\"x-dynamic\":\"false\",children:\"Analyzing sample and generating AI recommendations, please wait\\u2026\"})]}),result&&!loading&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},\"data-testid\":\"result-card\",className:\"bg-white rounded-3xl p-8 md:p-12 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",\"x-file-name\":\"Detection\",\"x-line-number\":\"260\",\"x-component\":\"div\",\"x-id\":\"Detection_260\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-[#1E3A8A] mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"261\",\"x-component\":\"h2\",\"x-id\":\"Detection_261\",\"x-dynamic\":\"false\",children:\"Analysis Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-50 to-purple-50 text-sm text-[#1E3A8A]\",\"x-file-name\":\"Detection\",\"x-line-number\":\"264\",\"x-component\":\"div\",\"x-id\":\"Detection_264\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"265\",\"x-component\":\"Brain\",\"x-id\":\"Detection_265\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Brain,{className:\"h-4 w-4\"})}),\"AI-Powered Safety Recommendations\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"270\",\"x-component\":\"div\",\"x-id\":\"Detection_270\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsxs(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"272\",\"x-component\":\"div\",\"x-id\":\"Detection_272\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-500 block mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"273\",\"x-component\":\"label\",\"x-id\":\"Detection_273\",\"x-dynamic\":\"false\",children:\"Detected Metal\"}),/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"metal-name\",className:\"text-2xl font-bold text-[#1E3A8A]\",\"x-file-name\":\"Detection\",\"x-line-number\":\"276\",\"x-component\":\"div\",\"x-id\":\"Detection_276\",\"x-dynamic\":\"true\",children:result.metal})]}),/*#__PURE__*/_jsxs(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"285\",\"x-component\":\"div\",\"x-id\":\"Detection_285\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-500 block mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"286\",\"x-component\":\"label\",\"x-id\":\"Detection_286\",\"x-dynamic\":\"false\",children:\"Concentration\"}),/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"concentration\",className:\"text-2xl font-bold text-[#2563EB]\",\"x-file-name\":\"Detection\",\"x-line-number\":\"289\",\"x-component\":\"div\",\"x-id\":\"Detection_289\",\"x-dynamic\":\"true\",children:result.concentration})]}),/*#__PURE__*/_jsxs(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"298\",\"x-component\":\"div\",\"x-id\":\"Detection_298\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-500 block mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"299\",\"x-component\":\"label\",\"x-id\":\"Detection_299\",\"x-dynamic\":\"false\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"status\",className:\"inline-flex items-center gap-2 px-6 py-3 rounded-full text-lg font-semibold \".concat(getStatusColor(result.status)),\"x-file-name\":\"Detection\",\"x-line-number\":\"302\",\"x-component\":\"div\",\"x-id\":\"Detection_302\",\"x-dynamic\":\"true\",children:[getStatusIcon(result.status),result.status]})]}),/*#__PURE__*/_jsxs(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"313\",\"x-component\":\"div\",\"x-id\":\"Detection_313\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-500 block mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"314\",\"x-component\":\"label\",\"x-id\":\"Detection_314\",\"x-dynamic\":\"false\",children:\"Detected Color (RGB)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",\"x-file-name\":\"Detection\",\"x-line-number\":\"317\",\"x-component\":\"div\",\"x-id\":\"Detection_317\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-xl shadow-md\",style:{backgroundColor:\"rgb(\".concat(result.detected_rgb[0],\", \").concat(result.detected_rgb[1],\", \").concat(result.detected_rgb[2],\")\")},\"x-file-name\":\"Detection\",\"x-line-number\":\"318\",\"x-component\":\"div\",\"x-id\":\"Detection_318\",\"x-dynamic\":\"false\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-700\",\"x-file-name\":\"Detection\",\"x-line-number\":\"324\",\"x-component\":\"span\",\"x-id\":\"Detection_324\",\"x-dynamic\":\"true\",children:[\"R: \",result.detected_rgb[0],\", G: \",result.detected_rgb[1],\", B: \",result.detected_rgb[2]]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"331\",\"x-component\":\"div\",\"x-id\":\"Detection_331\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-[#1E3A8A] block mb-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"332\",\"x-component\":\"label\",\"x-id\":\"Detection_332\",\"x-dynamic\":\"false\",children:\"Basic Recommendation\"}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"recommendation\",className:\"text-base text-gray-700\",\"x-file-name\":\"Detection\",\"x-line-number\":\"335\",\"x-component\":\"p\",\"x-id\":\"Detection_335\",\"x-dynamic\":\"true\",children:result.recommendation})]}),result.ai_recommendations&&Object.keys(result.ai_recommendations).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"345\",\"x-component\":\"div\",\"x-id\":\"Detection_345\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",\"x-file-name\":\"Detection\",\"x-line-number\":\"346\",\"x-component\":\"div\",\"x-id\":\"Detection_346\",\"x-dynamic\":\"false\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-50 to-blue-50 text-sm text-[#1E3A8A] mb-4\",\"x-file-name\":\"Detection\",\"x-line-number\":\"347\",\"x-component\":\"div\",\"x-id\":\"Detection_347\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"348\",\"x-component\":\"Brain\",\"x-id\":\"Detection_348\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Brain,{className:\"h-4 w-4\"})}),\"AI-Powered Safety Recommendations\"]})}),result.ai_recommendations.immediate_actions&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"355\",\"x-component\":\"div\",\"x-id\":\"Detection_355\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"356\",\"x-component\":\"div\",\"x-id\":\"Detection_356\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"357\",\"x-component\":\"AlertCircle\",\"x-id\":\"Detection_357\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-red-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"358\",\"x-component\":\"label\",\"x-id\":\"Detection_358\",\"x-dynamic\":\"false\",children:\"Immediate Actions\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"362\",\"x-component\":\"ul\",\"x-id\":\"Detection_362\",\"x-dynamic\":\"true\",children:result.ai_recommendations.immediate_actions.map((action,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-700 flex items-start gap-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"364\",\"x-component\":\"li\",\"x-id\":\"Detection_364\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mt-1\",\"x-file-name\":\"Detection\",\"x-line-number\":\"365\",\"x-component\":\"span\",\"x-id\":\"Detection_365\",\"x-dynamic\":\"true\",children:\"\\u2022\"}),action]},index))})]}),result.ai_recommendations.treatment_options&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"375\",\"x-component\":\"div\",\"x-id\":\"Detection_375\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"376\",\"x-component\":\"div\",\"x-id\":\"Detection_376\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"377\",\"x-component\":\"Shield\",\"x-id\":\"Detection_377\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Shield,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-green-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"378\",\"x-component\":\"label\",\"x-id\":\"Detection_378\",\"x-dynamic\":\"false\",children:\"Treatment Options\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"382\",\"x-component\":\"ul\",\"x-id\":\"Detection_382\",\"x-dynamic\":\"true\",children:result.ai_recommendations.treatment_options.map((option,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-700 flex items-start gap-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"384\",\"x-component\":\"li\",\"x-id\":\"Detection_384\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mt-1\",\"x-file-name\":\"Detection\",\"x-line-number\":\"385\",\"x-component\":\"span\",\"x-id\":\"Detection_385\",\"x-dynamic\":\"true\",children:\"\\u2022\"}),option]},index))})]}),result.ai_recommendations.health_risks&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"395\",\"x-component\":\"div\",\"x-id\":\"Detection_395\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"396\",\"x-component\":\"div\",\"x-id\":\"Detection_396\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"397\",\"x-component\":\"AlertCircle\",\"x-id\":\"Detection_397\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-orange-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-orange-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"398\",\"x-component\":\"label\",\"x-id\":\"Detection_398\",\"x-dynamic\":\"false\",children:\"Health Considerations\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",\"x-file-name\":\"Detection\",\"x-line-number\":\"402\",\"x-component\":\"p\",\"x-id\":\"Detection_402\",\"x-dynamic\":\"true\",children:result.ai_recommendations.health_risks})]}),result.ai_recommendations.prevention_tips&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"410\",\"x-component\":\"div\",\"x-id\":\"Detection_410\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"411\",\"x-component\":\"div\",\"x-id\":\"Detection_411\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"412\",\"x-component\":\"Lightbulb\",\"x-id\":\"Detection_412\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Lightbulb,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-blue-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"413\",\"x-component\":\"label\",\"x-id\":\"Detection_413\",\"x-dynamic\":\"false\",children:\"Prevention Tips\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"417\",\"x-component\":\"ul\",\"x-id\":\"Detection_417\",\"x-dynamic\":\"true\",children:result.ai_recommendations.prevention_tips.map((tip,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-700 flex items-start gap-2\",\"x-file-name\":\"Detection\",\"x-line-number\":\"419\",\"x-component\":\"li\",\"x-id\":\"Detection_419\",\"x-dynamic\":\"true\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 mt-1\",\"x-file-name\":\"Detection\",\"x-line-number\":\"420\",\"x-component\":\"span\",\"x-id\":\"Detection_420\",\"x-dynamic\":\"true\",children:\"\\u2022\"}),tip]},index))})]}),result.ai_recommendations.professional_help&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"430\",\"x-component\":\"div\",\"x-id\":\"Detection_430\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"431\",\"x-component\":\"div\",\"x-id\":\"Detection_431\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"432\",\"x-component\":\"TrendingUp\",\"x-id\":\"Detection_432\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-purple-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-purple-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"433\",\"x-component\":\"label\",\"x-id\":\"Detection_433\",\"x-dynamic\":\"false\",children:\"Professional Help\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",\"x-file-name\":\"Detection\",\"x-line-number\":\"437\",\"x-component\":\"p\",\"x-id\":\"Detection_437\",\"x-dynamic\":\"true\",children:result.ai_recommendations.professional_help})]}),result.ai_recommendations.additional_precautions&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 rounded-2xl p-6\",\"x-file-name\":\"Detection\",\"x-line-number\":\"445\",\"x-component\":\"div\",\"x-id\":\"Detection_445\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-3\",\"x-file-name\":\"Detection\",\"x-line-number\":\"446\",\"x-component\":\"div\",\"x-id\":\"Detection_446\",\"x-dynamic\":\"false\",children:[/*#__PURE__*/_jsx(\"div\",{\"x-file-name\":\"Detection\",\"x-line-number\":\"447\",\"x-component\":\"Shield\",\"x-id\":\"Detection_447\",\"x-dynamic\":\"false\",\"data-debug-wrapper\":\"true\",style:{display:\"contents\"},children:/*#__PURE__*/_jsx(Shield,{className:\"h-5 w-5 text-yellow-600\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-yellow-800\",\"x-file-name\":\"Detection\",\"x-line-number\":\"448\",\"x-component\":\"label\",\"x-id\":\"Detection_448\",\"x-dynamic\":\"false\",children:\"Additional Precautions\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700\",\"x-file-name\":\"Detection\",\"x-line-number\":\"452\",\"x-component\":\"p\",\"x-id\":\"Detection_452\",\"x-dynamic\":\"true\",children:result.ai_recommendations.additional_precautions})]})]})]})]})]})});}","map":{"version":3,"names":["useState","motion","Upload","Camera","Loader2","AlertCircle","CheckCircle2","Palette","Brain","Lightbulb","Shield","TrendingUp","Button","ColorPicker","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","API","concat","Detection","selectedFile","setSelectedFile","preview","setPreview","loading","setLoading","result","setResult","manualColor","setManualColor","useManualColor","setUseManualColor","handleFileSelect","e","file","target","files","reader","FileReader","onloadend","readAsDataURL","handleAnalysis","error","formData","FormData","append","console","log","JSON","stringify","response","post","headers","data","success","_error$response","_error$response$data","detail","handleColorSelect","color","handleColorReset","getStatusColor","status","includes","getStatusIcon","style","display","children","className","getConfidenceColor","score","getConfidenceIcon","div","initial","opacity","y","animate","transition","duration","scale","onClick","document","getElementById","click","id","type","accept","onChange","variant","imageSrc","onColorSelect","selectedColor","onReset","window","scrollTo","top","body","scrollHeight","behavior","disabled","metal","concentration","backgroundColor","detected_rgb","recommendation","ai_recommendations","Object","keys","length","immediate_actions","map","action","index","treatment_options","option","health_risks","prevention_tips","tip","professional_help","additional_precautions"],"sources":["C:/Users/Aakash/Videos/Captures/Frontend/src/pages/Detection.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Upload, Camera, Loader2, AlertCircle, CheckCircle2, Palette, Brain, Lightbulb, Shield, TrendingUp } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport ColorPicker from \"@/components/ColorPicker\";\nimport axios from \"axios\";\nimport { toast } from \"sonner\";\n\nconst BACKEND_URL ='https://pharmacy-project-lh5x.onrender.com';\nconst API = `${BACKEND_URL}/api`;\n\nexport default function Detection() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [manualColor, setManualColor] = useState(null);\n  const [useManualColor, setUseManualColor] = useState(false);\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setResult(null);\n      setManualColor(null);\n      setUseManualColor(false);\n      \n      // Create preview\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleAnalysis = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select an image first\");\n      return;\n    }\n\n    setLoading(true);\n    setResult(null);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", selectedFile);\n      \n      // Add manual color if user selected one\n      if (useManualColor && manualColor) {\n        console.log(\"ðŸŽ¨ Sending manual color:\", manualColor);\n        formData.append(\"manual_color\", JSON.stringify(manualColor));\n      } else {\n        console.log(\"ðŸ”„ Using automatic detection\");\n      }\n\n      const response = await axios.post(`${API}/analyze`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n\n      setResult(response.data);\n      toast.success(\"Analysis complete!\");\n    } catch (error) {\n      console.error(\"Analysis error:\", error);\n      toast.error(error.response?.data?.detail || \"Error analyzing image. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleColorSelect = (color) => {\n    setManualColor(color);\n    setUseManualColor(true);\n  };\n\n  const handleColorReset = () => {\n    setManualColor(null);\n    setUseManualColor(false);\n  };\n\n  const getStatusColor = (status) => {\n    if (status === \"Safe\") return \"text-green-600 bg-green-50\";\n    if (status.includes(\"Slight\")) return \"text-yellow-600 bg-yellow-50\";\n    if (status === \"Contaminated\") return \"text-orange-600 bg-orange-50\";\n    return \"text-red-600 bg-red-50\";\n  };\n\n  const getStatusIcon = (status) => {\n    if (status === \"Safe\") return <CheckCircle2 className=\"h-6 w-6\" />;\n    return <AlertCircle className=\"h-6 w-6\" />;\n  };\n\n  const getConfidenceColor = (score) => {\n    if (score >= 80) return \"text-green-600 bg-green-50\";\n    if (score >= 60) return \"text-yellow-600 bg-yellow-50\";\n    return \"text-red-600 bg-red-50\";\n  };\n\n  const getConfidenceIcon = (score) => {\n    if (score >= 80) return <TrendingUp className=\"h-4 w-4\" />;\n    if (score >= 60) return <AlertCircle className=\"h-4 w-4\" />;\n    return <AlertCircle className=\"h-4 w-4\" />;\n  };\n\n  return (\n    <div className=\"min-h-screen py-20 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-center mb-12\"\n        >\n          <h1 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold text-[#1E3A8A] mb-4\">\n            Heavy Metal Detection with AI Recommendations\n          </h1>\n          <p className=\"text-base sm:text-lg text-gray-600\">\n            Upload a test tube image for color-based detection and AI-powered safety recommendations\n          </p>\n        </motion.div>\n\n        {/* Upload Card */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.5 }}\n          className=\"bg-white rounded-3xl p-8 md:p-12 shadow-2xl mb-8\"\n        >\n          {!preview ? (\n            <div className=\"space-y-6\">\n              <div\n                data-testid=\"upload-zone\"\n                className=\"border-3 border-dashed border-[#2563EB] rounded-2xl p-12 text-center hover:bg-blue-50/50 transition-colors cursor-pointer\"\n                onClick={() => document.getElementById('file-input').click()}\n              >\n                <Upload className=\"h-16 w-16 text-[#2563EB] mx-auto mb-4\" />\n                <h3 className=\"text-xl font-semibold text-[#1E3A8A] mb-2\">\n                  Click to Upload Image\n                </h3>\n                <p className=\"text-sm text-gray-500\">\n                  Support: JPG, PNG, JPEG\n                </p>\n              </div>\n\n              <input\n                id=\"file-input\"\n                data-testid=\"file-input\"\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n              />\n\n              <div className=\"text-center\">\n                <p className=\"text-sm text-gray-500 mb-4\">Or capture directly</p>\n                <Button\n                  data-testid=\"camera-btn\"\n                  variant=\"outline\"\n                  className=\"border-[#2563EB] text-[#2563EB] hover:bg-[#2563EB] hover:text-white\"\n                  onClick={() => document.getElementById('file-input').click()}\n                >\n                  <Camera className=\"mr-2 h-4 w-4\" />\n                  Use Camera\n                </Button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              {/* Preview with Color Picker */}\n              <div className=\"relative\">\n                <ColorPicker\n                  imageSrc={preview}\n                  onColorSelect={handleColorSelect}\n                  selectedColor={manualColor}\n                  onReset={handleColorReset}\n                />\n              </div>\n\n              {/* Detection Method Indicator */}\n              <div className=\"text-center\">\n                <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-100 text-sm text-gray-600\">\n                  {useManualColor ? (\n                    <>\n                      <Palette className=\"h-4 w-4\" />\n                      Using Manual Color Selection\n                    </>\n                  ) : (\n                    <>\n                      <Camera className=\"h-4 w-4\" />\n                      Using Automatic Detection\n                    </>\n                  )}\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-4 justify-center\">\n                <Button\n                  data-testid=\"change-image-btn\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setSelectedFile(null);\n                    setPreview(null);\n                    setResult(null);\n                    setManualColor(null);\n                    setUseManualColor(false);\n                  }}\n                  className=\"border-gray-300\"\n                >\n                  Change Image\n                </Button>\n                <Button\n                  data-testid=\"start-analysis-btn\"\n                  onClick={()=>{\n                    handleAnalysis();\n                     window.scrollTo({ top: document.body.scrollHeight, behavior: \"smooth\" });\n                    }}\n                  disabled={loading}\n                  className=\"bg-gradient-to-r from-[#1E3A8A] to-[#2563EB] hover:from-[#1e40af] hover:to-[#1d4ed8] text-white px-8\"\n                >\n                  {loading ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Analyzing...\n                    </>\n                  ) : (\n                    \"Start Analysis\"\n                  )}\n                </Button>\n              </div>\n            </div>\n          )}\n        </motion.div>\n\n        {/* Loading State */}\n        {loading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"bg-white rounded-3xl p-12 shadow-xl text-center\"\n          >\n            <Loader2 className=\"h-16 w-16 text-[#2563EB] mx-auto mb-4 animate-spin\" />\n            <p className=\"text-lg text-gray-600\">Analyzing sample and generating AI recommendations, please waitâ€¦</p>\n          </motion.div>\n        )}\n\n        {/* Result Card */}\n        {result && !loading && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            data-testid=\"result-card\"\n            className=\"bg-white rounded-3xl p-8 md:p-12 shadow-2xl\"\n          >\n            <div className=\"text-center mb-8\">\n              <h2 className=\"text-3xl font-bold text-[#1E3A8A] mb-2\">\n                Analysis Results\n              </h2>\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-50 to-purple-50 text-sm text-[#1E3A8A]\">\n                <Brain className=\"h-4 w-4\" />\n                AI-Powered Safety Recommendations\n              </div>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Metal Name */}\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">\n                  Detected Metal\n                </label>\n                <div\n                  data-testid=\"metal-name\"\n                  className=\"text-2xl font-bold text-[#1E3A8A]\"\n                >\n                  {result.metal}\n                </div>\n              </div>\n\n              {/* Concentration */}\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">\n                  Concentration\n                </label>\n                <div\n                  data-testid=\"concentration\"\n                  className=\"text-2xl font-bold text-[#2563EB]\"\n                >\n                  {result.concentration}\n                </div>\n              </div>\n\n              {/* Status */}\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">\n                  Status\n                </label>\n                <div\n                  data-testid=\"status\"\n                  className={`inline-flex items-center gap-2 px-6 py-3 rounded-full text-lg font-semibold ${getStatusColor(result.status)}`}\n                >\n                  {getStatusIcon(result.status)}\n                  {result.status}\n                </div>\n              </div>\n\n\n              {/* Detected Color */}\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">\n                  Detected Color (RGB)\n                </label>\n                <div className=\"flex items-center gap-4\">\n                  <div\n                    className=\"w-16 h-16 rounded-xl shadow-md\"\n                    style={{\n                      backgroundColor: `rgb(${result.detected_rgb[0]}, ${result.detected_rgb[1]}, ${result.detected_rgb[2]})`\n                    }}\n                  />\n                  <span className=\"text-lg text-gray-700\">\n                    R: {result.detected_rgb[0]}, G: {result.detected_rgb[1]}, B: {result.detected_rgb[2]}\n                  </span>\n                </div>\n              </div>\n\n              {/* Basic Recommendation */}\n              <div className=\"bg-blue-50 rounded-2xl p-6\">\n                <label className=\"text-sm font-medium text-[#1E3A8A] block mb-2\">\n                  Basic Recommendation\n                </label>\n                <p\n                  data-testid=\"recommendation\"\n                  className=\"text-base text-gray-700\"\n                >\n                  {result.recommendation}\n                </p>\n              </div>\n\n              {/* AI-Powered Recommendations and Precautions */}\n              {result.ai_recommendations && Object.keys(result.ai_recommendations).length > 0 && (\n                <div className=\"space-y-6\">\n                  <div className=\"text-center\">\n                    <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-50 to-blue-50 text-sm text-[#1E3A8A] mb-4\">\n                      <Brain className=\"h-4 w-4\" />\n                      AI-Powered Safety Recommendations\n                    </div>\n                  </div>\n\n                  {/* Immediate Actions */}\n                  {result.ai_recommendations.immediate_actions && (\n                    <div className=\"bg-red-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <AlertCircle className=\"h-5 w-5 text-red-600\" />\n                        <label className=\"text-sm font-medium text-red-800\">\n                          Immediate Actions\n                        </label>\n                      </div>\n                      <ul className=\"space-y-2\">\n                        {result.ai_recommendations.immediate_actions.map((action, index) => (\n                          <li key={index} className=\"text-sm text-gray-700 flex items-start gap-2\">\n                            <span className=\"text-red-500 mt-1\">â€¢</span>\n                            {action}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Treatment Options */}\n                  {result.ai_recommendations.treatment_options && (\n                    <div className=\"bg-green-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <Shield className=\"h-5 w-5 text-green-600\" />\n                        <label className=\"text-sm font-medium text-green-800\">\n                          Treatment Options\n                        </label>\n                      </div>\n                      <ul className=\"space-y-2\">\n                        {result.ai_recommendations.treatment_options.map((option, index) => (\n                          <li key={index} className=\"text-sm text-gray-700 flex items-start gap-2\">\n                            <span className=\"text-green-500 mt-1\">â€¢</span>\n                            {option}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Health Risks */}\n                  {result.ai_recommendations.health_risks && (\n                    <div className=\"bg-orange-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <AlertCircle className=\"h-5 w-5 text-orange-600\" />\n                        <label className=\"text-sm font-medium text-orange-800\">\n                          Health Considerations\n                        </label>\n                      </div>\n                      <p className=\"text-sm text-gray-700\">\n                        {result.ai_recommendations.health_risks}\n                      </p>\n                    </div>\n                  )}\n\n                  {/* Prevention Tips */}\n                  {result.ai_recommendations.prevention_tips && (\n                    <div className=\"bg-blue-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <Lightbulb className=\"h-5 w-5 text-blue-600\" />\n                        <label className=\"text-sm font-medium text-blue-800\">\n                          Prevention Tips\n                        </label>\n                      </div>\n                      <ul className=\"space-y-2\">\n                        {result.ai_recommendations.prevention_tips.map((tip, index) => (\n                          <li key={index} className=\"text-sm text-gray-700 flex items-start gap-2\">\n                            <span className=\"text-blue-500 mt-1\">â€¢</span>\n                            {tip}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n\n                  {/* Professional Help */}\n                  {result.ai_recommendations.professional_help && (\n                    <div className=\"bg-purple-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <TrendingUp className=\"h-5 w-5 text-purple-600\" />\n                        <label className=\"text-sm font-medium text-purple-800\">\n                          Professional Help\n                        </label>\n                      </div>\n                      <p className=\"text-sm text-gray-700\">\n                        {result.ai_recommendations.professional_help}\n                      </p>\n                    </div>\n                  )}\n\n                  {/* Additional Precautions */}\n                  {result.ai_recommendations.additional_precautions && (\n                    <div className=\"bg-yellow-50 rounded-2xl p-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <Shield className=\"h-5 w-5 text-yellow-600\" />\n                        <label className=\"text-sm font-medium text-yellow-800\">\n                          Additional Precautions\n                        </label>\n                      </div>\n                      <p className=\"text-sm text-gray-700\">\n                        {result.ai_recommendations.additional_precautions}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}