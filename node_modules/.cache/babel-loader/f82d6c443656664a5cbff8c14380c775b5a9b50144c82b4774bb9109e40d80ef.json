{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Pharma\\\\Frontend\\\\src\\\\components\\\\ReadAloud.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Volume2, VolumeX, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReadAloud = () => {\n  _s();\n  const {\n    i18n\n  } = useTranslation();\n  const [voices, setVoices] = useState([]);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const currentUtteranceRef = useRef(null);\n  const queueRef = useRef([]);\n  const isProcessingRef = useRef(false);\n\n  // Language code to voice locale mapping\n  const langToLocale = {\n    en: \"en-IN\",\n    es: \"es-ES\",\n    // Spanish fallback\n    hi: \"hi-IN\",\n    ta: \"ta-IN\",\n    ml: \"ml-IN\",\n    mr: \"mr-IN\",\n    gu: \"gu-IN\",\n    kn: \"kn-IN\",\n    raj: \"hi-IN\" // Rajasthani fallback to Hindi\n  };\n\n  // Load voices when component mounts\n  useEffect(() => {\n    const loadVoices = () => {\n      const availableVoices = window.speechSynthesis.getVoices();\n      setVoices(availableVoices);\n    };\n\n    // Load voices immediately if available\n    loadVoices();\n\n    // Some browsers load voices asynchronously\n    if (window.speechSynthesis.onvoiceschanged !== undefined) {\n      window.speechSynthesis.onvoiceschanged = loadVoices;\n    }\n\n    // Cleanup: stop any ongoing speech when component unmounts\n    return () => {\n      if (currentUtteranceRef.current) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, []);\n\n  // Find the best matching voice for a given locale\n  const findVoice = locale => {\n    if (voices.length === 0) return null;\n\n    // First, try to find an exact match\n    let voice = voices.find(v => v.lang === locale);\n\n    // If no exact match, try to find a voice with the same language code\n    if (!voice) {\n      const langCode = locale.split(\"-\")[0];\n      voice = voices.find(v => v.lang.startsWith(langCode));\n    }\n\n    // If still no match, try to find any Indian voice\n    if (!voice) {\n      voice = voices.find(v => v.lang.includes(\"IN\"));\n    }\n\n    // Fallback to default voice\n    return voice || voices.find(v => v.default) || voices[0];\n  };\n\n  // Extract text content from the page, excluding navigation, footer, and buttons\n  const extractPageContent = () => {\n    // Selectors to exclude\n    const excludeSelectors = [\"nav\", \"header\", \"footer\", \"button\", \"[role='button']\", \"[role='navigation']\", \".read-aloud-button\",\n    // Exclude the read-aloud button itself\n    \"script\", \"style\", \"noscript\"];\n\n    // Get the main content area (usually main, article, or the main div)\n    const mainContent = document.querySelector(\"main\") || document.querySelector(\"article\") || document.querySelector('[role=\"main\"]') || document.querySelector(\".App > div:not(nav):not(footer)\") || document.body;\n\n    // Clone the element to avoid modifying the original\n    const clone = mainContent.cloneNode(true);\n\n    // Remove excluded elements\n    excludeSelectors.forEach(selector => {\n      const elements = clone.querySelectorAll(selector);\n      elements.forEach(el => el.remove());\n    });\n\n    // Extract text nodes\n    const textElements = [];\n    const walker = document.createTreeWalker(clone, NodeFilter.SHOW_TEXT, {\n      acceptNode: node => {\n        const text = node.textContent.trim();\n        // Skip empty text, very short text (likely UI elements), and text in excluded parents\n        if (text.length < 3 || text.length > 5000 || /^[\\s\\n\\r]*$/.test(text)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n        return NodeFilter.FILTER_ACCEPT;\n      }\n    }, false);\n    let node;\n    while (node = walker.nextNode()) {\n      const text = node.textContent.trim();\n      if (text.length >= 3 && text.length <= 5000) {\n        // Try to get the lang attribute from parent\n        let parent = node.parentElement;\n        let lang = null;\n        while (parent && parent !== clone) {\n          if (parent.lang) {\n            lang = parent.lang;\n            break;\n          }\n          parent = parent.parentElement;\n        }\n        textElements.push({\n          text,\n          lang\n        });\n      }\n    }\n\n    // Also get text from headings and paragraphs directly\n    const headingsAndParagraphs = clone.querySelectorAll(\"h1, h2, h3, h4, h5, h6, p, li, td, th, span, div\");\n    headingsAndParagraphs.forEach(el => {\n      const text = el.textContent.trim();\n      if (text.length >= 3 && text.length <= 5000 && !excludeSelectors.some(sel => el.matches(sel))) {\n        var _el$closest;\n        const lang = el.lang || ((_el$closest = el.closest(\"[lang]\")) === null || _el$closest === void 0 ? void 0 : _el$closest.lang) || null;\n        // Avoid duplicates\n        if (!textElements.some(item => item.text === text)) {\n          textElements.push({\n            text,\n            lang\n          });\n        }\n      }\n    });\n\n    // Filter and clean text\n    return textElements.map(item => item.text).filter((text, index, self) => {\n      // Remove duplicates and very short texts\n      return text.length >= 10 && self.indexOf(text) === index && !/^[0-9\\s\\-_]+$/.test(text) // Exclude pure numbers/symbols\n      ;\n    }).slice(0, 50); // Limit to first 50 text chunks to avoid overwhelming\n  };\n\n  // Process the speech queue\n  const processQueue = () => {\n    var _i18n$language;\n    if (isProcessingRef.current || queueRef.current.length === 0) {\n      if (queueRef.current.length === 0) {\n        setIsSpeaking(false);\n        setIsLoading(false);\n      }\n      return;\n    }\n    isProcessingRef.current = true;\n    const text = queueRef.current.shift();\n    const currentLang = ((_i18n$language = i18n.language) === null || _i18n$language === void 0 ? void 0 : _i18n$language.split(\"-\")[0]) || \"en\";\n    const locale = langToLocale[currentLang] || langToLocale[\"en\"];\n\n    // Create utterance\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.lang = locale;\n    utterance.rate = 0.9; // Slightly slower for better comprehension\n    utterance.pitch = 1.0;\n    utterance.volume = 1.0;\n\n    // Find and set the voice\n    const voice = findVoice(locale);\n    if (voice) {\n      utterance.voice = voice;\n    }\n\n    // Handle speech events\n    utterance.onend = () => {\n      isProcessingRef.current = false;\n      currentUtteranceRef.current = null;\n      // Process next item in queue\n      setTimeout(() => processQueue(), 100);\n    };\n    utterance.onerror = error => {\n      console.error(\"Speech synthesis error:\", error);\n      isProcessingRef.current = false;\n      currentUtteranceRef.current = null;\n      // Continue with next item\n      setTimeout(() => processQueue(), 100);\n    };\n\n    // Store reference and speak\n    currentUtteranceRef.current = utterance;\n    window.speechSynthesis.speak(utterance);\n  };\n\n  // Handle read aloud functionality\n  const handleReadAloud = () => {\n    if (isSpeaking) {\n      // Stop speaking\n      window.speechSynthesis.cancel();\n      queueRef.current = [];\n      isProcessingRef.current = false;\n      setIsSpeaking(false);\n      setIsLoading(false);\n      currentUtteranceRef.current = null;\n      return;\n    }\n\n    // Start reading\n    setIsLoading(true);\n    const texts = extractPageContent();\n    if (texts.length === 0) {\n      alert(\"No readable content found on this page.\");\n      setIsLoading(false);\n      return;\n    }\n\n    // Build queue\n    queueRef.current = texts;\n    setIsSpeaking(true);\n    setIsLoading(false);\n\n    // Start processing\n    processQueue();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-6 right-6 z-50\",\n    \"x-file-name\": \"ReadAloud\",\n    \"x-line-number\": \"261\",\n    \"x-component\": \"div\",\n    \"x-id\": \"ReadAloud_261\",\n    \"x-dynamic\": \"false\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      \"x-file-name\": \"ReadAloud\",\n      \"x-line-number\": \"262\",\n      \"x-component\": \"Button\",\n      \"x-id\": \"ReadAloud_262\",\n      \"x-dynamic\": \"true\",\n      \"data-debug-wrapper\": \"true\",\n      style: {\n        display: \"contents\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleReadAloud,\n        className: \"read-aloud-button bg-[#2563EB] hover:bg-[#1E3A8A] text-white rounded-full shadow-lg h-14 w-14 p-0 flex items-center justify-center transition-all hover:scale-110\",\n        \"aria-label\": isSpeaking ? \"Stop reading\" : \"Read page aloud\",\n        title: isSpeaking ? \"Stop reading\" : \"Read page aloud\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          \"x-file-name\": \"ReadAloud\",\n          \"x-line-number\": \"269\",\n          \"x-component\": \"Loader2\",\n          \"x-id\": \"ReadAloud_269\",\n          \"x-dynamic\": \"false\",\n          \"data-debug-wrapper\": \"true\",\n          style: {\n            display: \"contents\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"h-6 w-6 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 11\n          }, this)\n        }, void 0, false) : isSpeaking ? /*#__PURE__*/_jsxDEV(\"div\", {\n          \"x-file-name\": \"ReadAloud\",\n          \"x-line-number\": \"271\",\n          \"x-component\": \"VolumeX\",\n          \"x-id\": \"ReadAloud_271\",\n          \"x-dynamic\": \"false\",\n          \"data-debug-wrapper\": \"true\",\n          style: {\n            display: \"contents\"\n          },\n          children: /*#__PURE__*/_jsxDEV(VolumeX, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 11\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n          \"x-file-name\": \"ReadAloud\",\n          \"x-line-number\": \"273\",\n          \"x-component\": \"Volume2\",\n          \"x-id\": \"ReadAloud_273\",\n          \"x-dynamic\": \"false\",\n          \"data-debug-wrapper\": \"true\",\n          style: {\n            display: \"contents\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Volume2, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 11\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 7\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(ReadAloud, \"z9zYvPMcbjwU5nc3zZBJ+7OpNFM=\", false, function () {\n  return [useTranslation];\n});\n_c = ReadAloud;\nexport default ReadAloud;\nvar _c;\n$RefreshReg$(_c, \"ReadAloud\");","map":{"version":3,"names":["useState","useEffect","useRef","useTranslation","Volume2","VolumeX","Loader2","Button","jsxDEV","_jsxDEV","ReadAloud","_s","i18n","voices","setVoices","isSpeaking","setIsSpeaking","isLoading","setIsLoading","currentUtteranceRef","queueRef","isProcessingRef","langToLocale","en","es","hi","ta","ml","mr","gu","kn","raj","loadVoices","availableVoices","window","speechSynthesis","getVoices","onvoiceschanged","undefined","current","cancel","findVoice","locale","length","voice","find","v","lang","langCode","split","startsWith","includes","default","extractPageContent","excludeSelectors","mainContent","document","querySelector","body","clone","cloneNode","forEach","selector","elements","querySelectorAll","el","remove","textElements","walker","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","node","text","textContent","trim","test","FILTER_REJECT","FILTER_ACCEPT","nextNode","parent","parentElement","push","headingsAndParagraphs","some","sel","matches","_el$closest","closest","item","map","filter","index","self","indexOf","slice","processQueue","_i18n$language","shift","currentLang","language","utterance","SpeechSynthesisUtterance","rate","pitch","volume","onend","setTimeout","onerror","error","console","speak","handleReadAloud","texts","alert","className","children","style","display","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/Pharma/Frontend/src/components/ReadAloud.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Volume2, VolumeX, Loader2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nconst ReadAloud = () => {\r\n  const { i18n } = useTranslation();\r\n  const [voices, setVoices] = useState([]);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const currentUtteranceRef = useRef(null);\r\n  const queueRef = useRef([]);\r\n  const isProcessingRef = useRef(false);\r\n\r\n  // Language code to voice locale mapping\r\n  const langToLocale = {\r\n    en: \"en-IN\",\r\n    es: \"es-ES\", // Spanish fallback\r\n    hi: \"hi-IN\",\r\n    ta: \"ta-IN\",\r\n    ml: \"ml-IN\",\r\n    mr: \"mr-IN\",\r\n    gu: \"gu-IN\",\r\n    kn: \"kn-IN\",\r\n    raj: \"hi-IN\", // Rajasthani fallback to Hindi\r\n  };\r\n\r\n  // Load voices when component mounts\r\n  useEffect(() => {\r\n    const loadVoices = () => {\r\n      const availableVoices = window.speechSynthesis.getVoices();\r\n      setVoices(availableVoices);\r\n    };\r\n\r\n    // Load voices immediately if available\r\n    loadVoices();\r\n\r\n    // Some browsers load voices asynchronously\r\n    if (window.speechSynthesis.onvoiceschanged !== undefined) {\r\n      window.speechSynthesis.onvoiceschanged = loadVoices;\r\n    }\r\n\r\n    // Cleanup: stop any ongoing speech when component unmounts\r\n    return () => {\r\n      if (currentUtteranceRef.current) {\r\n        window.speechSynthesis.cancel();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Find the best matching voice for a given locale\r\n  const findVoice = (locale) => {\r\n    if (voices.length === 0) return null;\r\n\r\n    // First, try to find an exact match\r\n    let voice = voices.find((v) => v.lang === locale);\r\n\r\n    // If no exact match, try to find a voice with the same language code\r\n    if (!voice) {\r\n      const langCode = locale.split(\"-\")[0];\r\n      voice = voices.find((v) => v.lang.startsWith(langCode));\r\n    }\r\n\r\n    // If still no match, try to find any Indian voice\r\n    if (!voice) {\r\n      voice = voices.find((v) => v.lang.includes(\"IN\"));\r\n    }\r\n\r\n    // Fallback to default voice\r\n    return voice || voices.find((v) => v.default) || voices[0];\r\n  };\r\n\r\n  // Extract text content from the page, excluding navigation, footer, and buttons\r\n  const extractPageContent = () => {\r\n    // Selectors to exclude\r\n    const excludeSelectors = [\r\n      \"nav\",\r\n      \"header\",\r\n      \"footer\",\r\n      \"button\",\r\n      \"[role='button']\",\r\n      \"[role='navigation']\",\r\n      \".read-aloud-button\", // Exclude the read-aloud button itself\r\n      \"script\",\r\n      \"style\",\r\n      \"noscript\",\r\n    ];\r\n\r\n    // Get the main content area (usually main, article, or the main div)\r\n    const mainContent =\r\n      document.querySelector(\"main\") ||\r\n      document.querySelector(\"article\") ||\r\n      document.querySelector('[role=\"main\"]') ||\r\n      document.querySelector(\".App > div:not(nav):not(footer)\") ||\r\n      document.body;\r\n\r\n    // Clone the element to avoid modifying the original\r\n    const clone = mainContent.cloneNode(true);\r\n\r\n    // Remove excluded elements\r\n    excludeSelectors.forEach((selector) => {\r\n      const elements = clone.querySelectorAll(selector);\r\n      elements.forEach((el) => el.remove());\r\n    });\r\n\r\n    // Extract text nodes\r\n    const textElements = [];\r\n    const walker = document.createTreeWalker(\r\n      clone,\r\n      NodeFilter.SHOW_TEXT,\r\n      {\r\n        acceptNode: (node) => {\r\n          const text = node.textContent.trim();\r\n          // Skip empty text, very short text (likely UI elements), and text in excluded parents\r\n          if (\r\n            text.length < 3 ||\r\n            text.length > 5000 ||\r\n            /^[\\s\\n\\r]*$/.test(text)\r\n          ) {\r\n            return NodeFilter.FILTER_REJECT;\r\n          }\r\n          return NodeFilter.FILTER_ACCEPT;\r\n        },\r\n      },\r\n      false\r\n    );\r\n\r\n    let node;\r\n    while ((node = walker.nextNode())) {\r\n      const text = node.textContent.trim();\r\n      if (text.length >= 3 && text.length <= 5000) {\r\n        // Try to get the lang attribute from parent\r\n        let parent = node.parentElement;\r\n        let lang = null;\r\n        while (parent && parent !== clone) {\r\n          if (parent.lang) {\r\n            lang = parent.lang;\r\n            break;\r\n          }\r\n          parent = parent.parentElement;\r\n        }\r\n        textElements.push({ text, lang });\r\n      }\r\n    }\r\n\r\n    // Also get text from headings and paragraphs directly\r\n    const headingsAndParagraphs = clone.querySelectorAll(\r\n      \"h1, h2, h3, h4, h5, h6, p, li, td, th, span, div\"\r\n    );\r\n    headingsAndParagraphs.forEach((el) => {\r\n      const text = el.textContent.trim();\r\n      if (\r\n        text.length >= 3 &&\r\n        text.length <= 5000 &&\r\n        !excludeSelectors.some((sel) => el.matches(sel))\r\n      ) {\r\n        const lang = el.lang || el.closest(\"[lang]\")?.lang || null;\r\n        // Avoid duplicates\r\n        if (!textElements.some((item) => item.text === text)) {\r\n          textElements.push({ text, lang });\r\n        }\r\n      }\r\n    });\r\n\r\n    // Filter and clean text\r\n    return textElements\r\n      .map((item) => item.text)\r\n      .filter((text, index, self) => {\r\n        // Remove duplicates and very short texts\r\n        return (\r\n          text.length >= 10 &&\r\n          self.indexOf(text) === index &&\r\n          !/^[0-9\\s\\-_]+$/.test(text) // Exclude pure numbers/symbols\r\n        );\r\n      })\r\n      .slice(0, 50); // Limit to first 50 text chunks to avoid overwhelming\r\n  };\r\n\r\n  // Process the speech queue\r\n  const processQueue = () => {\r\n    if (isProcessingRef.current || queueRef.current.length === 0) {\r\n      if (queueRef.current.length === 0) {\r\n        setIsSpeaking(false);\r\n        setIsLoading(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    isProcessingRef.current = true;\r\n    const text = queueRef.current.shift();\r\n    const currentLang = i18n.language?.split(\"-\")[0] || \"en\";\r\n    const locale = langToLocale[currentLang] || langToLocale[\"en\"];\r\n\r\n    // Create utterance\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.lang = locale;\r\n    utterance.rate = 0.9; // Slightly slower for better comprehension\r\n    utterance.pitch = 1.0;\r\n    utterance.volume = 1.0;\r\n\r\n    // Find and set the voice\r\n    const voice = findVoice(locale);\r\n    if (voice) {\r\n      utterance.voice = voice;\r\n    }\r\n\r\n    // Handle speech events\r\n    utterance.onend = () => {\r\n      isProcessingRef.current = false;\r\n      currentUtteranceRef.current = null;\r\n      // Process next item in queue\r\n      setTimeout(() => processQueue(), 100);\r\n    };\r\n\r\n    utterance.onerror = (error) => {\r\n      console.error(\"Speech synthesis error:\", error);\r\n      isProcessingRef.current = false;\r\n      currentUtteranceRef.current = null;\r\n      // Continue with next item\r\n      setTimeout(() => processQueue(), 100);\r\n    };\r\n\r\n    // Store reference and speak\r\n    currentUtteranceRef.current = utterance;\r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  // Handle read aloud functionality\r\n  const handleReadAloud = () => {\r\n    if (isSpeaking) {\r\n      // Stop speaking\r\n      window.speechSynthesis.cancel();\r\n      queueRef.current = [];\r\n      isProcessingRef.current = false;\r\n      setIsSpeaking(false);\r\n      setIsLoading(false);\r\n      currentUtteranceRef.current = null;\r\n      return;\r\n    }\r\n\r\n    // Start reading\r\n    setIsLoading(true);\r\n    const texts = extractPageContent();\r\n\r\n    if (texts.length === 0) {\r\n      alert(\"No readable content found on this page.\");\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Build queue\r\n    queueRef.current = texts;\r\n    setIsSpeaking(true);\r\n    setIsLoading(false);\r\n\r\n    // Start processing\r\n    processQueue();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed bottom-6 right-6 z-50\">\r\n      <Button\r\n        onClick={handleReadAloud}\r\n        className=\"read-aloud-button bg-[#2563EB] hover:bg-[#1E3A8A] text-white rounded-full shadow-lg h-14 w-14 p-0 flex items-center justify-center transition-all hover:scale-110\"\r\n        aria-label={isSpeaking ? \"Stop reading\" : \"Read page aloud\"}\r\n        title={isSpeaking ? \"Stop reading\" : \"Read page aloud\"}\r\n      >\r\n        {isLoading ? (\r\n          <Loader2 className=\"h-6 w-6 animate-spin\" />\r\n        ) : isSpeaking ? (\r\n          <VolumeX className=\"h-6 w-6\" />\r\n        ) : (\r\n          <Volume2 className=\"h-6 w-6\" />\r\n        )}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReadAloud;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}